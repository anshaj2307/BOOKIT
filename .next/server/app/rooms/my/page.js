(()=>{var e={};e.id=111,e.ids=[111],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},8061:e=>{"use strict";e.exports=require("node:assert")},2761:e=>{"use strict";e.exports=require("node:async_hooks")},2254:e=>{"use strict";e.exports=require("node:buffer")},27:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},5714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},5673:e=>{"use strict";e.exports=require("node:events")},7561:e=>{"use strict";e.exports=require("node:fs")},8849:e=>{"use strict";e.exports=require("node:http")},2725:e=>{"use strict";e.exports=require("node:http2")},2286:e=>{"use strict";e.exports=require("node:https")},7503:e=>{"use strict";e.exports=require("node:net")},612:e=>{"use strict";e.exports=require("node:os")},9411:e=>{"use strict";e.exports=require("node:path")},8846:e=>{"use strict";e.exports=require("node:perf_hooks")},7742:e=>{"use strict";e.exports=require("node:process")},9630:e=>{"use strict";e.exports=require("node:querystring")},4492:e=>{"use strict";e.exports=require("node:stream")},2477:e=>{"use strict";e.exports=require("node:stream/web")},1764:e=>{"use strict";e.exports=require("node:tls")},1041:e=>{"use strict";e.exports=require("node:url")},7261:e=>{"use strict";e.exports=require("node:util")},3746:e=>{"use strict";e.exports=require("node:util/types")},4086:e=>{"use strict";e.exports=require("node:worker_threads")},5628:e=>{"use strict";e.exports=require("node:zlib")},1017:e=>{"use strict";e.exports=require("path")},1576:e=>{"use strict";e.exports=require("string_decoder")},7310:e=>{"use strict";e.exports=require("url")},1267:e=>{"use strict";e.exports=require("worker_threads")},5538:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d}),r(8057),r(4623),r(5866);var s=r(3191),o=r(8716),a=r(7922),i=r.n(a),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let d=["",{children:["rooms",{children:["my",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8057)),"C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\rooms\\my\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4623)),"C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\rooms\\my\\page.jsx"],u="/rooms/my/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/rooms/my/page",pathname:"/rooms/my",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6588:(e,t,r)=>{let s={"7b701ccdf508ca25a772c8d4d373003823307206":()=>Promise.resolve().then(r.bind(r,4734)).then(e=>e.default),"13202857e999982b9cf2168a8043b0876864dce3":()=>Promise.resolve().then(r.bind(r,6622)).then(e=>e.default),"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9":()=>Promise.resolve().then(r.bind(r,9822)).then(e=>e.default)};async function o(e,...t){return(await s[e]()).apply(null,t)}e.exports={"7b701ccdf508ca25a772c8d4d373003823307206":o.bind(null,"7b701ccdf508ca25a772c8d4d373003823307206"),"13202857e999982b9cf2168a8043b0876864dce3":o.bind(null,"13202857e999982b9cf2168a8043b0876864dce3"),"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9":o.bind(null,"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9")}},4469:(e,t,r)=>{let s={"29171b9ee41aa27cbe4787235e591759d6f4af68":()=>Promise.resolve().then(r.bind(r,1120)).then(e=>e.default)};async function o(e,...t){return(await s[e]()).apply(null,t)}e.exports={"29171b9ee41aa27cbe4787235e591759d6f4af68":o.bind(null,"29171b9ee41aa27cbe4787235e591759d6f4af68")}},3908:(e,t,r)=>{Promise.resolve().then(r.bind(r,8445)),Promise.resolve().then(r.t.bind(r,9404,23))},8445:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(326),o=r(9394),a=r(622);r(5424);let i=(0,r(6242).$)("7b701ccdf508ca25a772c8d4d373003823307206"),n=({roomId:e})=>{let t=async()=>{if(window.confirm("Are you sure you want to delete this room?"))try{await i(e),o.Am.success("Room deleted successfully!")}catch(e){console.log("Failed to delete room",e),o.Am.error("Failed to delete room")}};return(0,s.jsxs)("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded mb-2 sm:mb-0 w-full sm:w-auto text-center hover:bg-red-700",children:[s.jsx(a.Xm5,{className:"inline mr-1"})," Delete"]})}},4734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(7745);r(6461);var o=r(4184),a=r(3973),i=r(4323),n=r(4739),c=r(207),d=r(5723);async function l(e){let t=(0,a.cookies)().get("appwrite-session");t||(0,n.redirect)("/login");try{let{account:r,databases:s}=await (0,o.O)(t.value),a=(await r.get()).$id,{documents:n}=await s.listDocuments("bookit","rooms",[i.AE.equal("user_id",a)]),d=n.find(t=>t.$id===e);if(d)return await s.deleteDocument("bookit","rooms",d.$id),(0,c.revalidatePath)("/rooms/my","layout"),(0,c.revalidatePath)("/","layout"),{success:!0};return{error:"Room not found"}}catch(e){return console.log("Failed to delete room",e),{error:"Failed to delete room"}}}let u=l;(0,d.h)([l]),(0,s.j)("7b701ccdf508ca25a772c8d4d373003823307206",l)},1120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(4330);r(166);var o=r(8119),a=r(1615),i=r(7671),n=r(8585),c=r(618);async function d(){let e=(0,a.cookies)().get("appwrite-session");e||(0,n.redirect)("/login");try{let{account:t,databases:r}=await (0,o.O)(e.value),s=(await t.get()).$id,{documents:a}=await r.listDocuments("bookit","rooms",[i.AE.equal("user_id",s)]);return a}catch(e){console.log("Failed to get user rooms",e),(0,n.redirect)("/error")}}let l=d;(0,c.h)([d]),(0,s.j)("29171b9ee41aa27cbe4787235e591759d6f4af68",d)},8057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(9510),o=r(3602),a=r(7371),i=r(4665);let n=(0,r(8570).createProxy)(String.raw`C:\Users\ansha\OneDrive\Documents\Major\bookit-app\components\DeleteRoomButton.jsx#default`),c=({room:e})=>(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 mt-4 flex flex-col sm:flex-row justify-between items-center",children:[s.jsx("div",{className:"flex flex-col",children:s.jsx("h4",{className:"text-lg font-semibold",children:e.name})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto sm:space-x-2 mt-2 sm:mt-0",children:[(0,s.jsxs)(a.default,{href:`/rooms/${e.$id}`,className:"bg-blue-500 text-white px-4 py-2 rounded mb-2 sm:mb-0 w-full sm:w-auto text-center hover:bg-blue-700",children:[s.jsx(i.dSq,{className:"inline mr-1"})," View"]}),s.jsx(n,{roomId:e.$id})]})]});var d=r(1120);let l=async()=>{let e=await (0,d.default)();return(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Z,{title:"My Rooms"}),e.length>0?e.map(e=>s.jsx(c,{room:e},e.$id)):s.jsx("p",{children:"You have no room listings"})]})}},3602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(9510);let o=({title:e})=>s.jsx("section",{className:"bg-white mb-5 shadow px-4 py-4",children:s.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:e})})},8119:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,i:()=>o});var s=r(7671);let o=async()=>{let e=new s.KU().setEndpoint("https://cloud.appwrite.io/v1").setProject("bookit").setKey(process.env.NEXT_APPWRITE_KEY);return{get account(){return new s.mR(e)},get databases(){return new s.Lg(e)},get storage(){return new s.Ke(e)}}},a=async e=>{let t=new s.KU().setEndpoint("https://cloud.appwrite.io/v1").setProject("bookit");return e&&t.setSession(e),{get account(){return new s.mR(t)},get databases(){return new s.Lg(t)}}}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(6621);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,685,621,243,207,576,615,907],()=>r(5538));module.exports=s})();