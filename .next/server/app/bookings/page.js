(()=>{var e={};e.id=926,e.ids=[926],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},8061:e=>{"use strict";e.exports=require("node:assert")},2761:e=>{"use strict";e.exports=require("node:async_hooks")},2254:e=>{"use strict";e.exports=require("node:buffer")},27:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},5714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},5673:e=>{"use strict";e.exports=require("node:events")},7561:e=>{"use strict";e.exports=require("node:fs")},8849:e=>{"use strict";e.exports=require("node:http")},2725:e=>{"use strict";e.exports=require("node:http2")},2286:e=>{"use strict";e.exports=require("node:https")},7503:e=>{"use strict";e.exports=require("node:net")},612:e=>{"use strict";e.exports=require("node:os")},9411:e=>{"use strict";e.exports=require("node:path")},8846:e=>{"use strict";e.exports=require("node:perf_hooks")},7742:e=>{"use strict";e.exports=require("node:process")},9630:e=>{"use strict";e.exports=require("node:querystring")},4492:e=>{"use strict";e.exports=require("node:stream")},2477:e=>{"use strict";e.exports=require("node:stream/web")},1764:e=>{"use strict";e.exports=require("node:tls")},1041:e=>{"use strict";e.exports=require("node:url")},7261:e=>{"use strict";e.exports=require("node:util")},3746:e=>{"use strict";e.exports=require("node:util/types")},4086:e=>{"use strict";e.exports=require("node:worker_threads")},5628:e=>{"use strict";e.exports=require("node:zlib")},1017:e=>{"use strict";e.exports=require("path")},1576:e=>{"use strict";e.exports=require("string_decoder")},7310:e=>{"use strict";e.exports=require("url")},1267:e=>{"use strict";e.exports=require("worker_threads")},5746:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>l,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(6165),r(4623),r(5866);var o=r(3191),n=r(8716),s=r(7922),i=r.n(s),a=r(5231),u={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let c=["",{children:["bookings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6165)),"C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\bookings\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4623)),"C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\ansha\\OneDrive\\Documents\\Major\\bookit-app\\app\\bookings\\page.jsx"],l="/bookings/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/bookings/page",pathname:"/bookings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3474:(e,t,r)=>{let o={"9901154cba9ba91901f3a16f3e09561511fd92e7":()=>Promise.resolve().then(r.bind(r,6028)).then(e=>e.default),"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9":()=>Promise.resolve().then(r.bind(r,9822)).then(e=>e.default)};async function n(e,...t){return(await o[e]()).apply(null,t)}e.exports={"9901154cba9ba91901f3a16f3e09561511fd92e7":n.bind(null,"9901154cba9ba91901f3a16f3e09561511fd92e7"),"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9":n.bind(null,"2b65c52a32f4fef39ca3ee62f0f60d1fbd0b8ca9")}},2950:(e,t,r)=>{let o={"82efb511743489ad77d7c5fcee534d103282f3f3":()=>Promise.resolve().then(r.bind(r,99)).then(e=>e.default),"13202857e999982b9cf2168a8043b0876864dce3":()=>Promise.resolve().then(r.bind(r,8888)).then(e=>e.default)};async function n(e,...t){return(await o[e]()).apply(null,t)}e.exports={"82efb511743489ad77d7c5fcee534d103282f3f3":n.bind(null,"82efb511743489ad77d7c5fcee534d103282f3f3"),"13202857e999982b9cf2168a8043b0876864dce3":n.bind(null,"13202857e999982b9cf2168a8043b0876864dce3")}},9647:(e,t,r)=>{Promise.resolve().then(r.bind(r,9212)),Promise.resolve().then(r.t.bind(r,9404,23))},9212:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var o=r(326),n=r(9394);r(5424);let s=(0,r(6242).$)("9901154cba9ba91901f3a16f3e09561511fd92e7"),i=({bookingId:e})=>{let t=async()=>{if(confirm("Are you sure you want to cancel this booking?"))try{(await s(e)).success&&n.Am.success("Booking cancelled successfully!")}catch(e){return console.log("Failed to cancel booking",e),{error:"Failed to cancel booking"}}};return o.jsx("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded w-full sm:w-auto text-center hover:bg-red-700",children:"Cancel Booking"})}},6028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r(7745);r(6461);var n=r(4184),s=r(3973),i=r(4739),a=r(207),u=r(6622),c=r(5723);async function d(e){let t=(0,s.cookies)().get("appwrite-session");t||(0,i.redirect)("/login");try{let{databases:r}=await (0,n.O)(t.value),{user:o}=await (0,u.default)();if(!o)return{error:"You must be logged in to cancel a booking"};if((await r.getDocument("bookit","bookings",e)).user_id!==o.id)return{error:"You are not authorized to cancel this booking"};return await r.deleteDocument("bookit","bookings",e),(0,a.revalidatePath)("/bookings","layout"),{success:!0}}catch(e){return console.log("Failed to cancel booking",e),{error:"Failed to cancel booking"}}}let l=d;(0,c.h)([d]),(0,o.j)("9901154cba9ba91901f3a16f3e09561511fd92e7",d)},8888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var o=r(4330);r(166);var n=r(8119),s=r(1615),i=r(618);async function a(){let e=(0,s.cookies)().get("appwrite-session");if(!e)return{isAuthenticated:!1};try{let{account:t}=await (0,n.O)(e.value),r=await t.get();return{isAuthenticated:!0,user:{id:r.$id,name:r.name,email:r.email}}}catch(e){return{isAuthenticated:!1}}}let u=a;(0,i.h)([a]),(0,o.j)("13202857e999982b9cf2168a8043b0876864dce3",a)},99:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r(4330);r(166);var n=r(8119),s=r(1615),i=r(7671),a=r(8585),u=r(8888),c=r(618);async function d(){let e=(0,s.cookies)().get("appwrite-session");e||(0,a.redirect)("/login");try{let{databases:t}=await (0,n.O)(e.value),{user:r}=await (0,u.default)();if(!r)return{error:"You must be logged in to view bookings"};let{documents:o}=await t.listDocuments("bookit","bookings",[i.AE.equal("user_id",r.id)]);return o}catch(e){return console.log("Failed to get user bookings",e),{error:"Failed to get bookings"}}}let l=d;(0,c.h)([d]),(0,o.j)("82efb511743489ad77d7c5fcee534d103282f3f3",d)},6165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var o=r(9510),n=r(3602),s=r(7371);let i=(0,r(8570).createProxy)(String.raw`C:\Users\ansha\OneDrive\Documents\Major\bookit-app\components\CancelBookingButton.jsx#default`),a=({booking:e})=>{let{room_id:t}=e,r=e=>{let t=new Date(e),r=t.toLocaleString("en-US",{month:"short"},{timeZone:"UTC"}),o=t.getUTCDate(),n=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0,timeZone:"UTC"});return`${r} ${o} at ${n}`};return(0,o.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 mt-4 flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,o.jsxs)("div",{children:[o.jsx("h4",{className:"text-lg font-semibold",children:t.name}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Check In:"})," ",r(e.check_in)]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Check Out:"})," ",r(e.check_out)]})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto sm:space-x-2 mt-2 sm:mt-0",children:[o.jsx(s.default,{href:`/rooms/${t.$id}`,className:"bg-blue-500 text-white px-4 py-2 rounded mb-2 sm:mb-0 w-full sm:w-auto text-center hover:bg-blue-700",children:"View Room"}),o.jsx(i,{bookingId:e.$id})]})]})};var u=r(99);let c=async()=>{let e=await (0,u.default)();return(0,o.jsxs)(o.Fragment,{children:[o.jsx(n.Z,{title:"My Bookings"}),0===e.length?o.jsx("p",{className:"text-gray-600 mt-4",children:"You have no bookings"}):e.map(e=>o.jsx(a,{booking:e},e.$id))]})}},3602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(9510);let n=({title:e})=>o.jsx("section",{className:"bg-white mb-5 shadow px-4 py-4",children:o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:e})})},8119:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,i:()=>n});var o=r(7671);let n=async()=>{let e=new o.KU().setEndpoint("https://cloud.appwrite.io/v1").setProject("bookit").setKey(process.env.NEXT_APPWRITE_KEY);return{get account(){return new o.mR(e)},get databases(){return new o.Lg(e)},get storage(){return new o.Ke(e)}}},s=async e=>{let t=new o.KU().setEndpoint("https://cloud.appwrite.io/v1").setProject("bookit");return e&&t.setSession(e),{get account(){return new o.mR(t)},get databases(){return new o.Lg(t)}}}},4739:(e,t,r)=>{"use strict";var o=r(5649);r.o(o,"redirect")&&r.d(t,{redirect:function(){return o.redirect}})},5649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return o.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return o.permanentRedirect},redirect:function(){return o.redirect}});let o=r(2863),n=r(722);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return o}});let r="NEXT_NOT_FOUND";function o(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3809:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2863:(e,t,r)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return o},getRedirectError:function(){return u},getRedirectStatusCodeFromError:function(){return b},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return l},permanentRedirect:function(){return d},redirect:function(){return c}});let n=r(4580),s=r(2934),i=r(3809),a="NEXT_REDIRECT";function u(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let o=Error(a);o.digest=a+";"+t+";"+e+";"+r+";";let s=n.requestAsyncStorage.getStore();return s&&(o.mutableCookies=s.mutableCookies),o}function c(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,o,n]=e.digest.split(";",4),s=Number(n);return t===a&&("replace"===r||"push"===r)&&"string"==typeof o&&!isNaN(s)&&s in i.RedirectStatusCode}function f(e){return l(e)?e.digest.split(";",3)[2]:null}function p(e){if(!l(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function b(e){if(!l(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(o||(o={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(6621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,685,621,243,207,615,907],()=>r(5746));module.exports=o})();